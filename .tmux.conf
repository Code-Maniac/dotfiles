# rebind prefix to ctrl-a from ctrl-b - actually capslock-a
set -g prefix C-a
unbind C-b

# remove escape delay
set-option -wg xterm-key on
set -s escape-time 1

# # set indexes
set -g base-index 1
setw -g pane-base-index 1

# # C-a-r to reload this file
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# # force tmux to use 256 colors
set -g default-terminal "xterm-256color"

# creating new splits
unbind %
unbind :
bind | split-window -h
bind - split-window -v

# pane swapping that works seemlessly with vim panes
bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-h) || tmux select-pane -L"
bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-j) || tmux select-pane -D"
bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-k) || tmux select-pane -U"
bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-l) || tmux select-pane -R"
bind -n C-\ run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys 'C-\\') || tmux select-pane -l"

# allow mouse clicking
set -g mouse-select-window on
set -g mouse-select-pane on
set -g mouse-resize-pane on

# prettifying tmux
# status bar
set -g status-utf8 on
set -g status-justify left
set -g status-bg colour33
set -g status-fg default
set -g status-interval 1 # allows tmux clock to update every second

# pane borders
set -g pane-border-fg colour245
set -g pane-active-border-fg colour214

# status bar
set -g status-position bottom
set -g status-bg colour234
set -g status-fg colour137
set -g status-attr dim
set -g status-left ''
set -g status-right '#[fg=colour233,bg=colour241,bold] %d/%m #[fg=colour233,bg=colour245,bold] %H:%M:%S '
set -g status-right-length 50
set -g status-left-length 20

setw -g window-status-current-fg colour81
setw -g window-status-current-bg colour238
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #[fg=colour137]#I#[fg=colour250]:#[fg=colour255]#W#[fg=colour137] #F '

setw -g window-status-fg colour138
setw -g window-status-bg colour235
setw -g window-status-attr none
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244] #F '

#set -g message-attr bold
set -g message-fg white
set -g message-bg colour241

#POWERLINE
# set-option -g status on
# set-option -g status-interval 2
# set-option -g status-utf8 on
# set-option -g status-justify "centre"
# set-option -g status-left-length 60
# set-option -g status-right-length 90
# set-option -g status-left "#(~/.tmux/plugins/tmux-powerline/themes)"
# set-option -g status-right "#(~/.tmux/plugins/tmux-powerline/themes)"

# source ~/.local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf

# # PLUGINS
# set -g @plugin 'powerline/powerline'

# # tmux plugin manager path - should always be kept at the bottom
# run '~/.tmux/plugins/tpm/tpm'
